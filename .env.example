# ===================================
# Local Cooks Platform - Server Environment Configuration
# ===================================
# Copy this file to .env for development
# NEVER commit .env to version control
# Rotate all secrets before going to production

# ===================================
# Database (Neon PostgreSQL)
# ===================================
DATABASE_URL=postgresql://user:password@host/dbname?sslmode=require

# ===================================
# Firebase Admin SDK
# ===================================
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----\n"

# ===================================
# Stripe
# ===================================
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxx

# ===================================
# Cloudflare R2 (File Storage)
# ===================================
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
R2_BUCKET_NAME=your-bucket-name
R2_PUBLIC_URL=https://files.localcooks.ca

# ===================================
# Email (Resend / SMTP)
# ===================================
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=noreply@localcooks.ca

# ===================================
# Session & Authentication
# ===================================
# IMPORTANT: Use a strong random string (min 32 chars). Generate with:
SESSION_SECRET=CHANGE_ME_TO_A_STRONG_RANDOM_STRING

# ===================================
# Cron Job Authentication
# ===================================
# REQUIRED: Secret for authenticating cron job endpoints (Vercel Cron)
# The /detect-overstays endpoint will reject ALL requests if this is not set
CRON_SECRET=CHANGE_ME_TO_A_STRONG_RANDOM_STRING

# ===================================
# CORS (Optional)
# ===================================
# Comma-separated additional allowed origins (beyond localcooks.ca subdomains)
# CORS_ALLOWED_ORIGINS=https://custom-domain.com,https://staging.example.com

# ===================================
# Application URLs
# ===================================
BASE_URL=http://localhost:5001
BASE_DOMAIN=localcooks.ca

# ===================================
# Environment
# ===================================
NODE_ENV=development
# VERCEL_ENV is set automatically by Vercel (development/preview/production)

# ===================================
# AlwaysFoodSafe API (Certificate Verification)
# ===================================
ALWAYS_FOOD_SAFE_API_KEY=your-api-key

# ===================================
# Sentry (Error Tracking & Performance Monitoring)
# ===================================
# Server-side DSN → project: localcooks-server (Node.js/Express)
SENTRY_DSN=https://your-server-dsn@o123456.ingest.us.sentry.io/server-project-id
# Client-side DSN → project: localcooks-client (React)
VITE_SENTRY_DSN=https://your-client-dsn@o123456.ingest.us.sentry.io/client-project-id
# Source map upload (set by Vercel Sentry integration, or manually)
# SENTRY_AUTH_TOKEN=sntrys_your-auth-token
# SENTRY_ORG=local-cooks
# SENTRY_PROJECT=localcooks-client

# ===================================
# Twilio (SMS - Optional)
# ===================================
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890
